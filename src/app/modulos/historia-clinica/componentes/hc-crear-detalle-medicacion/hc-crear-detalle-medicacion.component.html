<div class="_load_main inset-0" *ngIf="cargando">
    <div class="_load_content">
        <mat-spinner diameter=70 color=primary></mat-spinner>
        <h3 class="_load_text">{{mensajeCarga}}</h3>
    </div>
</div>
<app-hc-crear-medicacion (notificarNuevaFila)="agregarFila($event)"></app-hc-crear-medicacion>

<div class="grid mt-4 p-6">
    <h2 style="padding: 0; margin: 0;">Lista de medicación a guardar</h2>
    <hr>
    <div class="mat-elevation-z8 mt-4">
        <table mat-table [dataSource]="dataSource" matTablePaciente class="sm:w-full">

            <ng-container matColumnDef="medicamento">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>MEDICAMENTO</b></th>
                <td mat-cell *matCellDef="let element"> {{element.medicamento.nombre}} </td>
            </ng-container>

            <ng-container matColumnDef="via">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>VIA</b></th>
                <td mat-cell *matCellDef="let element"> {{element.via}} </td>
            </ng-container>

            <ng-container matColumnDef="duracion">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>DURACIÓN</b></th>
                <td mat-cell *matCellDef="let element"> {{element.duracion}} </td>
            </ng-container>

            <ng-container matColumnDef="frecuencia">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>RANGO DE HORAS</b></th>
                <td mat-cell *matCellDef="let element"> {{element.frecuencia}} </td>
            </ng-container>

            <ng-container matColumnDef="dosis">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>DOSIS</b></th>
                <td mat-cell *matCellDef="let element"> {{element.dosis}} </td>
            </ng-container>

            <ng-container matColumnDef="indicaciones">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>INDICACIONES</b></th>
                <td mat-cell *matCellDef="let element"> {{element.indicaciones}} </td>
            </ng-container>

            <ng-container matColumnDef="accion">
                <th mat-header-cell *matHeaderCellDef class="fs-6 text-center align-middle bg-info bg-gradient text-white"><b>ACCIÓN</b></th>
                <td mat-cell *matCellDef="let element">
                    <button (click)="eliminar(element)" mat-mini-fab color="accent">
                        <mat-icon>delete</mat-icon></button>  
                </td>
            </ng-container>
        
            <tr mat-header-row *matHeaderRowDef="columnas"></tr>
            <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
        </table>
    </div>
</div>
<div class="w-100 pl-6">
    <button (click)="registrar()" cdkFocusInitial [disabled]="dataSource.length == 0"  
        mat-raised-button color="accent"><mat-icon>save</mat-icon>Guardar</button>
</div>
